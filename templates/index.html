<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¥ì• ì¸ ë†êµ¬ ì•±</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        body {
            font-family: 'Apple SD Gothic Neo', 'Noto Sans KR', sans-serif;
            background-color: #f4f7fe;
            color: #333;
            line-height: 1.5;
            max-width: 500px;
            margin: 0 auto;
        }
        .header {
            background-color: #2977ff;
            color: white;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        .header-left {
            display: flex;
            align-items: center;
        }
        .header-right {
            display: flex;
            align-items: center;
        }
        .header h1 {
            font-size: 18px;
            margin-left: 10px;
        }
        .back-button {
            color: white;
            font-size: 24px;
            text-decoration: none;
            margin-right: 5px;
        }
        .container {
            padding: 20px;
        }
        .card {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
        }
        .card-icon {
            background-color: #2977ff;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 24px;
            margin-bottom: 15px;
        }
        .card h2 {
            font-size: 20px;
            margin-bottom: 10px;
        }
        .card p {
            color: #666;
            font-size: 14px;
            margin-bottom: 0;
        }
        .location-row {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }
        .location-icon {
            color: #666;
            margin-right: 5px;
        }
        .tag {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            margin-right: 5px;
            margin-bottom: 5px;
        }
        .tag-green {
            background-color: #e8f5e9;
            color: #388e3c;
        }
        .tag-blue {
            background-color: #e3f2fd;
            color: #1976d2;
        }
        .tag-yellow {
            background-color: #fff8e1;
            color: #ffa000;
        }
        .tag-red {
            background-color: #ffebee;
            color: #d32f2f;
        }
        .section {
            display: none;
        }
        .section.active {
            display: block;
        }
        .court-list-item {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
            padding: 15px;
            margin-bottom: 15px;
        }
        .court-name {
            font-size: 16px;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .court-address {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }
        .tag-list {
            margin-top: 10px;
        }
        .search-box {
            background-color: white;
            border-radius: 25px;
            display: flex;
            align-items: center;
            padding: 10px 15px;
            margin-bottom: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .search-box input {
            border: none;
            outline: none;
            width: 100%;
            font-size: 14px;
            margin-left: 10px;
        }
        .add-button {
            background-color: #2977ff;
            color: white;
            border: none;
            border-radius: 25px;
            padding: 15px;
            width: 100%;
            font-size: 16px;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .add-button svg {
            margin-right: 10px;
        }
        input, textarea, select {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            font-size: 14px;
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-size: 14px;
            color: #555;
        }
        .form-group {
            margin-bottom: 15px;
        }
        button {
            cursor: pointer;
        }
        .bottom-button {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            max-width: 500px;
            margin: 0 auto;
            padding: 15px;
        }
        .form-row {
            display: flex;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .form-group.half {
            width: 48%;
        }
        
        .form-section {
            margin-bottom: 25px;
        }
        
        .form-section h3 {
            font-size: 16px;
            margin-bottom: 15px;
            color: #333;
        }
        
        .radio-group, .checkbox-group {
            margin-bottom: 15px;
        }
        
        .radio-group label, .checkbox-group label {
            display: block;
            margin-bottom: 8px;
        }
        
        .help-text {
            font-size: 12px;
            color: #666;
            margin-top: 5px;
        }
        
        .icon {
            margin-right: 5px;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            margin-bottom: 10px;
        }
        
        .review-item {
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .review-header {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .reviewer {
            font-weight: bold;
        }
        
        .date {
            color: #666;
            font-size: 12px;
        }
        
        .rating {
            margin-bottom: 15px;
        }
        
        .stars {
            color: #FFD700;
        }
        
        .count {
            color: #666;
            font-size: 14px;
            margin-left: 5px;
        }
        
        .game-date, .game-time, .game-participants {
            color: #666;
            margin-bottom: 8px;
            display: flex;
            align-items: center;
        }
        
        .login-button {
            color: white;
            background-color: transparent;
            border: 1px solid white;
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 12px;
            cursor: pointer;
        }
        
        .mypage-button {
            color: white;
            background-color: transparent;
            border: 1px solid white;
            border-radius: 4px;
            padding: 5px 10px;
            font-size: 12px;
            display: none; /* ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€ */
            cursor: pointer;
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 100;
        }
        
        .modal-content {
            background-color: white;
            border-radius: 10px;
            max-width: 400px;
            width: 90%;
            margin: 100px auto;
            padding: 20px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-title {
            font-size: 18px;
            font-weight: bold;
        }
        
        .modal-close {
            font-size: 20px;
            cursor: pointer;
            background: transparent;
            border: none;
        }
        
        .user-info-item {
            display: flex;
            margin-bottom: 15px;
            align-items: center;
        }
        
        .user-info-label {
            width: 80px;
            font-weight: bold;
            color: #555;
        }
        
        .user-avatar {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background-color: #e0e0e0;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
            font-size: 30px;
            color: #888;
        }
    </style>
</head>
<body>
    <!-- ë©”ì¸ í™”ë©´ -->
    <div id="main-screen" class="section active">
        <div class="header">
            <div class="header-left">
                <h1>ì„œìš¸ ê°•ë‚¨êµ¬</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="card" onclick="showSection('register-game')">
                <div class="card-icon">
                    <span>+</span>
                </div>
                <h2>ê²½ê¸° ë“±ë¡í•˜ê¸°</h2>
                <p>ë‚˜ë§Œì˜ ë†êµ¬ ê²½ê¸°ë¥¼ ë§Œë“¤ì–´ë³´ì„¸ìš”</p>
            </div>
            
            <div class="card" onclick="showSection('join-game')">
                <div class="card-icon">
                    <span>ğŸ‘¥</span>
                </div>
                <h2>ê²½ê¸° ì‹ ì²­í•˜ê¸°</h2>
                <p>ì—´ë¦° ë†êµ¬ ê²½ê¸°ì— ì°¸ì—¬í•´ë³´ì„¸ìš”</p>
            </div>
            
            <div class="card" onclick="showSection('courts')">
                <div class="card-icon">
                    <span>ğŸ“</span>
                </div>
                <h2>ìš´ë™ì¥/ì²´ìœ¡ê´€ ì •ë³´</h2>
                <p>ì ‘ê·¼ì„± ì •ë³´ í™•ì¸ ë° ë“±ë¡í•˜ê¸°</p>
            </div>
        </div>
    </div>

    <!-- ìš´ë™ì¥/ì²´ìœ¡ê´€ ëª©ë¡ -->
    <div id="courts" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('main-screen')">â†</a>
                <h1>ìš´ë™ì¥/ì²´ìœ¡ê´€ ì •ë³´</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="search-box">
                <span>ğŸ”</span>
                <input type="text" placeholder="ì²´ìœ¡ê´€ ê²€ìƒ‰">
            </div>
            
            <button class="add-button" onclick="showSection('add-court')">
                <span>+</span> ìƒˆ ìš´ë™ì¥/ì²´ìœ¡ê´€ ë“±ë¡í•˜ê¸°
            </button>
            
            <div id="courts-list">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ì½”íŠ¸ ëª©ë¡ -->
            </div>
        </div>
    </div>

    <!-- ìƒˆ ìš´ë™ì¥/ì²´ìœ¡ê´€ ë“±ë¡ -->
    <div id="add-court" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('courts')">â†</a>
                <h1>ìƒˆ ìš´ë™ì¥/ì²´ìœ¡ê´€ ë“±ë¡</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="form-section">
                <h3>ê¸°ë³¸ ì •ë³´</h3>
                <div class="form-group">
                    <label for="court-name">ì‹œì„¤ ì´ë¦„</label>
                    <input type="text" id="court-name" placeholder="ì˜ˆ: OOì²´ìœ¡ê´€, XXë†êµ¬ì½”íŠ¸">
                </div>
                
                <div class="form-group">
                    <label for="court-address">ì£¼ì†Œ</label>
                    <input type="text" id="court-address" placeholder="ì˜ˆ: ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ ì‚¼ì„±ë™ 123-45">
                </div>
                
                <div class="form-group">
                    <label for="court-phone">ì—°ë½ì²˜</label>
                    <input type="text" id="court-phone" placeholder="ì˜ˆ: 02-123-4567">
                </div>
                
                <div class="form-group">
                    <label for="court-hours">ìš´ì˜ ì‹œê°„</label>
                    <input type="text" id="court-hours" placeholder="ì˜ˆ: í‰ì¼ 09:00-22:00, ì£¼ë§ 10:00-18:00">
                </div>
            </div>
            
            <div class="form-section">
                <h3>ì ‘ê·¼ì„± ì •ë³´</h3>
                <p>íœ ì²´ì–´ ì ‘ê·¼ì„±</p>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="wheelchair" value="excellent">
                        ë§¤ìš° ì¢‹ìŒ
                    </label>
                    <label>
                        <input type="radio" name="wheelchair" value="good">
                        ì–‘í˜¸
                    </label>
                    <label>
                        <input type="radio" name="wheelchair" value="limited">
                        ë³´í†µ
                    </label>
                    <label>
                        <input type="radio" name="wheelchair" value="poor">
                        ì–´ë ¤ì›€
                    </label>
                </div>
                
                <p>ì‹œì„¤ íŠ¹ì§• (í•´ë‹¹í•˜ëŠ” í•­ëª© ëª¨ë‘ ì„ íƒ)</p>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" name="facilities" value="ramp">
                        ê²½ì‚¬ë¡œ ìˆìŒ
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="elevator">
                        ì—˜ë¦¬ë² ì´í„° ìˆìŒ
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="toilet">
                        ì¥ì• ì¸ í™”ì¥ì‹¤
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="parking">
                        ì¥ì• ì¸ ì£¼ì°¨êµ¬ì—­
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="auto-door">
                        ìë™ë¬¸
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="wide-space">
                        ë„“ì€ íœ ê³µê°„
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="flat-ground">
                        í‰í‰í•œ ë°”ë‹¥
                    </label>
                    <label>
                        <input type="checkbox" name="facilities" value="tactile">
                        ì „ìš© íƒˆì˜ì‹¤
                    </label>
                </div>
                
                <p>ì¥ì• ë¬¼/ì£¼ì˜ì‚¬í•­ (ìˆëŠ” ê²½ìš°)</p>
                <div class="checkbox-group">
                    <label>
                        <input type="checkbox" name="obstacles" value="stairs">
                        ê³„ë‹¨ ìˆìŒ
                    </label>
                    <label>
                        <input type="checkbox" name="obstacles" value="narrow">
                        ì¢ì€ í†µë¡œ
                    </label>
                    <label>
                        <input type="checkbox" name="obstacles" value="slope">
                        ê°€íŒŒë¥¸ ê²½ì‚¬
                    </label>
                    <label>
                        <input type="checkbox" name="obstacles" value="uneven">
                        ìš¸í‰ë¶ˆí‰í•œ ì§€ë©´
                    </label>
                </div>
            </div>
            
            <div class="form-section">
                <h3>ìƒì„¸ ì„¤ëª…</h3>
                <textarea id="court-description" rows="5" placeholder="ì‹œì„¤ì— ëŒ€í•œ ìƒì„¸ ì„¤ëª…ê³¼ ì ‘ê·¼ì„± ê´€ë ¨ ì¶”ê°€ ì •ë³´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
            </div>
            
            <div class="form-section">
                <h3>ì‚¬ì§„ ë“±ë¡ (ì„ íƒì‚¬í•­)</h3>
                <div class="photo-upload">
                    <button id="upload-photo-btn" class="add-button">
                        <span>â†‘</span>
                        ì‚¬ì§„ì„ ë“±ë¡í•´ì£¼ì„¸ìš”
                    </button>
                    <p class="help-text">ì‹œì„¤ ì…êµ¬, ë‚´ë¶€, í™”ì¥ì‹¤ ë“±ì˜ ì‚¬ì§„</p>
                </div>
            </div>
            
            <button onclick="addCourt()" class="add-button bottom-button">ìš´ë™ì¥/ì²´ìœ¡ê´€ ë“±ë¡í•˜ê¸°</button>
        </div>
    </div>
    
    <!-- ì½”íŠ¸ ìƒì„¸ ì •ë³´ -->
    <div id="court-detail" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('courts')">â†</a>
                <h1>ì²´ìœ¡ê´€ ìƒì„¸ ì •ë³´</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="map-placeholder" style="height: 200px; background-color: #e9f1fd; border-radius: 10px; margin-bottom: 20px; display: flex; justify-content: center; align-items: center;">
                <span style="color: #2977ff; font-size: 36px;">ğŸ“</span>
            </div>
            
            <div id="court-detail-content">
                <!-- ë™ì ìœ¼ë¡œ ì½”íŠ¸ ìƒì„¸ ì •ë³´ í‘œì‹œ -->
            </div>
            
            <div class="reviews-section">
                <h3>ì´ìš©ì í‰ê°€</h3>
                <div class="rating">
                    <span class="stars">â­â­â­â­â­</span>
                    <span class="count">(12ëª… í‰ê°€)</span>
                </div>
                
                <div class="review-list" id="review-list">
                    <!-- ë™ì ìœ¼ë¡œ ë¦¬ë·° ë‚´ìš© í‘œì‹œ -->
                </div>
            </div>
        </div>
    </div>

    <!-- ê²½ê¸° ë“±ë¡í•˜ê¸° -->
    <div id="register-game" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('main-screen')">â†</a>
                <h1>ê²½ê¸° ë“±ë¡í•˜ê¸°</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="form-section">
                <h3>ê²½ê¸°ì¥ ì„ íƒ</h3>
                <div class="form-group">
                    <label for="game-court">ì¥ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš”</label>
                    <select id="game-court">
                        <option value="">ì¥ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš”</option>
                    </select>
                </div>
            </div>
            
            <div class="form-section">
                <h3>ë‚ ì§œ ë° ì‹œê°„</h3>
                <div class="form-group">
                    <label for="game-date">ë‚ ì§œ</label>
                    <input type="date" id="game-date">
                </div>
                <div class="form-row">
                    <div class="form-group half">
                        <label for="game-start-time">ì‹œì‘ ì‹œê°„</label>
                        <select id="game-start-time">
                            <option value="">ì‹œì‘ ì‹œê°„</option>
                            <option value="09:00">09:00</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                        </select>
                    </div>
                    <div class="form-group half">
                        <label for="game-end-time">ì¢…ë£Œ ì‹œê°„</label>
                        <select id="game-end-time">
                            <option value="">ì¢…ë£Œ ì‹œê°„</option>
                            <option value="10:00">10:00</option>
                            <option value="11:00">11:00</option>
                            <option value="12:00">12:00</option>
                            <option value="13:00">13:00</option>
                            <option value="14:00">14:00</option>
                            <option value="15:00">15:00</option>
                            <option value="16:00">16:00</option>
                            <option value="17:00">17:00</option>
                            <option value="18:00">18:00</option>
                            <option value="19:00">19:00</option>
                            <option value="20:00">20:00</option>
                            <option value="21:00">21:00</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div class="form-section">
                <h3>ì°¸ê°€ì ì •ë³´</h3>
                <div class="form-group">
                    <label for="game-level">ë‚œì´ë„</label>
                    <select id="game-level">
                        <option value="">ë‚œì´ë„</option>
                        <option value="beginner">ì´ˆë³´ì í™˜ì˜</option>
                        <option value="intermediate">ì¤‘ê¸‰ì</option>
                        <option value="advanced">ìƒê¸‰ì</option>
                        <option value="all">ëª¨ë“  ë ˆë²¨</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="game-max-players">ìµœëŒ€ ì¸ì›</label>
                    <select id="game-max-players">
                        <option value="4">4ëª…</option>
                        <option value="6">6ëª…</option>
                        <option value="8">8ëª…</option>
                        <option value="10">10ëª…</option>
                        <option value="12">12ëª…</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="game-requirements">ì¶”ê°€ ìš”êµ¬ì‚¬í•­ (íœ ì²´ì–´ ì ‘ê·¼ì„± ë“±)</label>
                    <textarea id="game-requirements" rows="3" placeholder="íœ ì²´ì–´ ì ‘ê·¼ì„± ë“± ì¶”ê°€ì ì¸ ìš”êµ¬ì‚¬í•­ì´ ìˆë‹¤ë©´ ì…ë ¥í•´ì£¼ì„¸ìš”"></textarea>
                </div>
            </div>
            
            <div class="form-section">
                <h3>ê²½ê¸° ì„¤ëª…</h3>
                <div class="form-group">
                    <label for="game-description">ê²½ê¸°ì— ëŒ€í•œ ì„¤ëª…ê³¼ ì°¸ê°€ìì—ê²Œ ì „ë‹¬í•  ë‚´ìš©ì„ ì‘ì„±í•´ì£¼ì„¸ìš”</label>
                    <textarea id="game-description" rows="5"></textarea>
                </div>
            </div>
            
            <button onclick="registerGame()" class="add-button bottom-button">ê²½ê¸° ë“±ë¡í•˜ê¸°</button>
        </div>
    </div>
    
    <!-- ê²½ê¸° ì‹ ì²­í•˜ê¸° -->
    <div id="join-game" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('main-screen')">â†</a>
                <h1>ê²½ê¸° ì‹ ì²­í•˜ê¸°</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div class="search-box">
                <span>ğŸ”</span>
                <input type="text" placeholder="ê²½ê¸° ê²€ìƒ‰">
            </div>
            
            <div id="games-list">
                <!-- ë™ì ìœ¼ë¡œ ìƒì„±ë  ê²½ê¸° ëª©ë¡ -->
            </div>
        </div>
    </div>
    
    <!-- ê²½ê¸° ìƒì„¸ ì •ë³´ -->
    <div id="game-detail" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('join-game')">â†</a>
                <h1>ê²½ê¸° ìƒì„¸ ì •ë³´</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container">
            <div id="game-detail-content">
                <!-- ë™ì ìœ¼ë¡œ ê²½ê¸° ìƒì„¸ ì •ë³´ í‘œì‹œ -->
            </div>
            
            <button onclick="applyToGame()" class="add-button bottom-button">ì°¸ê°€ ì‹ ì²­í•˜ê¸°</button>
        </div>
    </div>
    
    <!-- ê²½ê¸° ì‹ ì²­ í™•ì¸ -->
    <div id="join-confirmation" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('join-game')">â†</a>
                <h1>í™•ì¸</h1>
            </div>
            <div class="header-right">
                <button class="login-button" onclick="showLogin()">ë¡œê·¸ì¸</button>
                <button class="mypage-button" onclick="showMyPage()">ë§ˆì´í˜ì´ì§€</button>
            </div>
        </div>
        <div class="container" style="display: flex; flex-direction: column; justify-content: center; align-items: center; height: 80vh;">
            <div style="text-align: center; margin-bottom: 40px;">
                <div style="width: 80px; height: 80px; background-color: #2977ff; border-radius: 50%; display: flex; justify-content: center; align-items: center; margin: 0 auto 20px;">
                    <span style="color: white; font-size: 36px;">âœ“</span>
                </div>
                <h2>ê²½ê¸° ì‹ ì²­ ì™„ë£Œ!</h2>
                <p>ê·€í•˜ì˜ ì°¸ê°€ ì‹ ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤. ì£¼ìµœìì˜ ìŠ¹ì¸ì„ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”.</p>
            </div>
            <div>
                <button onclick="showSection('main-screen')" class="add-button" style="margin-bottom: 15px;">í™ˆìœ¼ë¡œ ëŒì•„ê°€ê¸°</button>
                <button onclick="showSection('join-game')" class="add-button" style="background-color: transparent; color: #2977ff; border: 1px solid #2977ff;">ë‹¤ë¥¸ ê²½ê¸° ì°¾ì•„ë³´ê¸°</button>
            </div>
        </div>
    </div>

    <!-- ë¡œê·¸ì¸ ëª¨ë‹¬ -->
    <div id="login-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">ë¡œê·¸ì¸</span>
                <button class="modal-close" onclick="closeLogin()">&times;</button>
            </div>
            
            <div class="form-group">
                <label for="login-email">ì´ë©”ì¼</label>
                <input type="email" id="login-email" placeholder="example@email.com">
            </div>
            
            <div class="form-group">
                <label for="login-password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="login-password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <button onclick="login()" class="add-button">ë¡œê·¸ì¸</button>
            
            <p style="text-align: center; margin-top: 15px; font-size: 14px; color: #666;">
                ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? <a href="#" onclick="showSignup()">íšŒì›ê°€ì…</a>
            </p>
        </div>
    </div>
    
    <!-- íšŒì›ê°€ì… ëª¨ë‹¬ -->
    <div id="signup-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <span class="modal-title">íšŒì›ê°€ì…</span>
                <button class="modal-close" onclick="closeSignup()">&times;</button>
            </div>
            
            <div class="form-group">
                <label for="signup-name">ì´ë¦„</label>
                <input type="text" id="signup-name" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <div class="form-group">
                <label for="signup-email">ì´ë©”ì¼</label>
                <input type="email" id="signup-email" placeholder="example@email.com">
            </div>
            
            <div class="form-group">
                <label for="signup-password">ë¹„ë°€ë²ˆí˜¸</label>
                <input type="password" id="signup-password" placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”">
            </div>
            
            <button onclick="signup()" class="add-button">íšŒì›ê°€ì…</button>
            
            <p style="text-align: center; margin-top: 15px; font-size: 14px; color: #666;">
                ì´ë¯¸ ê³„ì •ì´ ìˆìœ¼ì‹ ê°€ìš”? <a href="#" onclick="showLogin()">ë¡œê·¸ì¸</a>
            </p>
        </div>
    </div>
    
    <!-- ë§ˆì´í˜ì´ì§€ í™”ë©´ -->
    <div id="mypage" class="section">
        <div class="header">
            <div class="header-left">
                <a href="#" class="back-button" onclick="showSection('main-screen')">â†</a>
                <h1>ë§ˆì´í˜ì´ì§€</h1>
            </div>
        </div>
        <div class="container">
            <div class="user-avatar">ğŸ‘¤</div>
            
            <div class="card">
                <h3>ë‚´ ì •ë³´</h3>
                <div class="user-info-item">
                    <div class="user-info-label">ì´ë¦„</div>
                    <div class="user-info-value" id="user-name">Test User</div>
                </div>
                <div class="user-info-item">
                    <div class="user-info-label">ì´ë©”ì¼</div>
                    <div class="user-info-value" id="user-email">test@example.com</div>
                </div>
            </div>
            
            <div class="card">
                <h3>ë‚˜ì˜ íŒ€</h3>
                <div id="user-teams">
                    <p>Alpha Team</p>
                </div>
            </div>
            
            <div class="card">
                <h3>ë“±ë¡í•œ ê²½ê¸°</h3>
                <div id="user-games">
                    <p>ë“±ë¡í•œ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <div class="card">
                <h3>ì‹ ì²­í•œ ê²½ê¸°</h3>
                <div id="user-applied-games">
                    <p>ì‹ ì²­í•œ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>
                </div>
            </div>
            
            <button onclick="logout()" class="add-button" style="background-color: #f44336;">ë¡œê·¸ì•„ì›ƒ</button>
        </div>
    </div>

    <script>
        // í˜„ì¬ ì‚¬ìš©ì ì •ë³´ (ë¡œê·¸ì¸ ìƒíƒœ ê´€ë¦¬)
        let currentUser = null;
        
        // í˜„ì¬ í‘œì‹œí•  ì„¹ì…˜ ì „í™˜ í•¨ìˆ˜
        function showSection(sectionId) {
            document.querySelectorAll('.section').forEach(section => {
                section.classList.remove('active');
            });
            document.getElementById(sectionId).classList.add('active');
            
            // íŠ¹ì • ì„¹ì…˜ì´ í‘œì‹œë  ë•Œ ì¶”ê°€ ì‘ì—…
            if (sectionId === 'courts') {
                loadCourts();
            } else if (sectionId === 'register-game') {
                // ë¡œê·¸ì¸ í™•ì¸
                if (!currentUser) {
                    alert('ê²½ê¸° ë“±ë¡ì€ ë¡œê·¸ì¸ í›„ ì´ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.');
                    showLogin();
                    return;
                }
                loadCourtsForGameRegistration();
            } else if (sectionId === 'join-game') {
                loadGames();
            }
        }
        
        // API í†µì‹  í•¨ìˆ˜
        async function fetchAPI(url, method = 'GET', body = null) {
            // ìƒëŒ€ ê²½ë¡œ ì‚¬ìš©
            const options = {
                method,
                headers: {
                    'Content-Type': 'application/json'
                }
            };
            
            if (body) {
                options.body = JSON.stringify(body);
            }
            
            try {
                console.log('API ìš”ì²­:', url);
                const response = await fetch(url, options);
                if (!response.ok) {
                    console.error('API ì‘ë‹µ ì˜¤ë¥˜:', response.status, response.statusText);
                    throw new Error(`HTTP error ${response.status}`);
                }
                return await response.json();
            } catch (error) {
                console.error('API ìš”ì²­ ì˜¤ë¥˜:', error);
                return { error: error.message };
            }
        }
        
        // ì½”íŠ¸ ëª©ë¡ ë¡œë“œ í•¨ìˆ˜
        async function loadCourts() {
            const courts = await fetchAPI('/api/courts');
            const container = document.getElementById('courts-list');
            
            if (!courts || courts.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">ë“±ë¡ëœ ì½”íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            let html = '';
            courts.forEach(court => {
                html += `
                    <div class="court-list-item" onclick="showCourtDetail(${court.id})">
                        <div class="court-name">${court.name}</div>
                        <div class="court-address">
                            <span class="location-icon">ğŸ“</span>
                            ${court.address}
                        </div>
                        <div class="tag-list">
                            <span class="tag tag-green">íœ ì²´ì–´ ì ‘ê·¼ ì–‘í˜¸</span>
                            <span class="tag tag-green">ê²½ì‚¬ë¡œ ìˆìŒ</span>
                            <span class="tag tag-green">ì¥ì• ì¸ í™”ì¥ì‹¤</span>
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
        
        // ì½”íŠ¸ ì¶”ê°€ í•¨ìˆ˜
        async function addCourt() {
            const name = document.getElementById('court-name').value;
            const address = document.getElementById('court-address').value;
            const description = document.getElementById('court-description').value;
            
            if (!name || !address) {
                alert('ì‹œì„¤ ì´ë¦„ê³¼ ì£¼ì†ŒëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.');
                return;
            }
            
            try {
                const result = await fetchAPI('/api/courts', 'POST', {
                    name,
                    address,
                    description
                });
                
                if (result) {
                    alert('ìš´ë™ì¥/ì²´ìœ¡ê´€ì´ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    showSection('courts');
                }
            } catch (error) {
                console.error('ì½”íŠ¸ ë“±ë¡ ì˜¤ë¥˜:', error);
                alert('ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        // ì½”íŠ¸ ìƒì„¸ ì •ë³´ ë¡œë“œ
        async function loadCourtDetail(courtId) {
            const court = await fetchAPI(`/api/courts/${courtId}`);
            if (!court) {
                alert('ì½”íŠ¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            const detailContainer = document.getElementById('court-detail-content');
            
            let html = `
                <h2>${court.name}</h2>
                <div class="info-item">
                    <span class="icon">ğŸ“</span>
                    <span>${court.address}</span>
                </div>
                <div class="info-item">
                    <span class="icon">ğŸ“</span>
                    <span>02-123-4567</span>
                </div>
                <div class="info-item">
                    <span class="icon">ğŸ•’</span>
                    <span>í‰ì¼ 09:00 - 22:00 / ì£¼ë§ 10:00 - 20:00</span>
                </div>
                
                <h3>ì ‘ê·¼ì„± ì •ë³´</h3>
                <div class="tag-list">
                    <span class="tag tag-green">íœ ì²´ì–´ ì ‘ê·¼ ì–‘í˜¸</span>
                    <span class="tag tag-green">ê²½ì‚¬ë¡œ ìˆìŒ</span>
                    <span class="tag tag-green">ì¥ì• ì¸ í™”ì¥ì‹¤</span>
                    <span class="tag tag-green">ì¥ì• ì¸ ì£¼ì°¨êµ¬ì—­</span>
                    <span class="tag tag-green">ì—˜ë¦¬ë² ì´í„°</span>
                    <span class="tag tag-green">ë„“ì€ íœ ê³µê°„</span>
                </div>
                
                <h3>ìƒì„¸ ì„¤ëª…</h3>
                <p>${court.description || 'ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤.'}</p>
                
                <p>ì²´ìœ¡ê´€ ë‚´ë¶€ì—ëŠ” ì¥ì• ì¸ ì „ìš© í™”ì¥ì‹¤ì´ 2ê°œ ë§ˆë ¨ë˜ì–´ ìˆìœ¼ë©°, íƒˆì˜ì‹¤ë„ íœ ì²´ì–´ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë„ë¡ ì„¤ê³„ë˜ì–´ ìˆìŠµë‹ˆë‹¤. íŠ¹íˆ ë†êµ¬ ì½”íŠ¸ì˜ ë°”ë‹¥ì¬ëŠ” ë¯¸ë„ëŸ¼ ë°©ì§€ ì²˜ë¦¬ê°€ ë˜ì–´ ìˆì–´ ì•ˆì „í•©ë‹ˆë‹¤.</p>
                
                <p>ì£¼ì°¨ì¥ì—ëŠ” ì¥ì• ì¸ ì „ìš© ì£¼ì°¨êµ¬ì—­ì´ 6ë©´ ë§ˆë ¨ë˜ì–´ ìˆìœ¼ë©°, ì£¼ì°¨ì¥ì—ì„œ ì²´ìœ¡ê´€ ì…êµ¬ê¹Œì§€ ê²½ì‚¬ë¡œê°€ ì˜ ì„¤ì¹˜ë˜ì–´ ìˆì–´ ì ‘ê·¼ì„±ì´ ë›°ì–´ë‚©ë‹ˆë‹¤.</p>
            `;
            
            detailContainer.innerHTML = html;
            
            // ë¦¬ë·° ëª©ë¡ ìƒì„±
            const reviewList = document.getElementById('review-list');
            let reviewHtml = `
                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer">ê¹€OOë‹˜</span>
                        <span class="date">2023.09.15</span>
                    </div>
                    <p>íœ ì²´ì–´ë¡œ ì´ë™í•˜ê¸° ë§¤ìš° í¸ë¦¬í–ˆìŠµë‹ˆë‹¤. í™”ì¥ì‹¤ë„ ë„“ê³  ê¹¨ë—í•´ì„œ ì¢‹ì•˜ì–´ìš”. ë‹¤ë¥¸ ì¥ì• ì¸ ì¹œêµ¬ë“¤ì—ê²Œë„ ì¶”ì²œí•˜ê³  ì‹¶ì€ ì‹œì„¤ì…ë‹ˆë‹¤.</p>
                </div>
                <div class="review-item">
                    <div class="review-header">
                        <span class="reviewer">ì´OOë‹˜</span>
                        <span class="date">2023.08.27</span>
                    </div>
                    <p>ë†êµ¬ì¥ ë°”ë‹¥ ìƒíƒœê°€ ë§¤ìš° ì¢‹ê³ , íœ ì²´ì–´ ì´ë™ë„ í¸ë¦¬í•©ë‹ˆë‹¤. ì§ì›ë¶„ë“¤ë„ ë§¤ìš° ì¹œì ˆí•˜ê²Œ ë„ì™€ì£¼ì…¨ì–´ìš”.</p>
                </div>
            `;
            reviewList.innerHTML = reviewHtml;
            
            // ì„¹ì…˜ í‘œì‹œ
            showSection('court-detail');
        }
        
        // ì½”íŠ¸ ìƒì„¸ ì •ë³´ í‘œì‹œ í•¨ìˆ˜ ì—…ë°ì´íŠ¸
        function showCourtDetail(courtId) {
            loadCourtDetail(courtId);
        }
        
        // ê²½ê¸° ë“±ë¡ìš© ì½”íŠ¸ ëª©ë¡ ë¡œë“œ
        async function loadCourtsForGameRegistration() {
            const courts = await fetchAPI('/api/courts');
            if (!courts || courts.length === 0) {
                alert('ë“±ë¡ëœ ì½”íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤. ë¨¼ì € ì½”íŠ¸ë¥¼ ë“±ë¡í•´ì£¼ì„¸ìš”.');
                showSection('courts');
                return;
            }
            
            const courtSelect = document.getElementById('game-court');
            courtSelect.innerHTML = '<option value="">ì¥ì†Œë¥¼ ì„ íƒí•˜ì„¸ìš”</option>';
            
            courts.forEach(court => {
                courtSelect.innerHTML += `<option value="${court.id}">${court.name}</option>`;
            });
        }
        
        // ê²½ê¸° ë“±ë¡
        async function registerGame() {
            const courtId = parseInt(document.getElementById('game-court').value);
            const gameDate = document.getElementById('game-date').value;
            const startTime = document.getElementById('game-start-time').value;
            const description = document.getElementById('game-description').value;
            
            if (!courtId || !gameDate || !startTime) {
                alert('ì¥ì†Œ, ë‚ ì§œ, ì‹œì‘ ì‹œê°„ì€ í•„ìˆ˜ ì…ë ¥ì‚¬í•­ì…ë‹ˆë‹¤.');
                return;
            }
            
            // ISO 8601 í˜•ì‹ìœ¼ë¡œ ë‚ ì§œì™€ ì‹œê°„ ë³€í™˜
            const dateTime = `${gameDate}T${startTime}:00`;
            
            try {
                const result = await fetchAPI('/api/games', 'POST', {
                    court_id: courtId,
                    date_time: dateTime,
                    host_id: 1, // í…ŒìŠ¤íŠ¸ìš© ê³ ì • í˜¸ìŠ¤íŠ¸ ID
                    home_team_id: null, // íŒ€ ì •ë³´ í•„ìš” ì—†ìŒ
                    away_team_id: null, // íŒ€ ì •ë³´ í•„ìš” ì—†ìŒ
                    status: 'SCHEDULED'
                });
                
                if (result) {
                    alert('ê²½ê¸°ê°€ ì„±ê³µì ìœ¼ë¡œ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                    showSection('main-screen');
                }
            } catch (error) {
                console.error('ê²½ê¸° ë“±ë¡ ì˜¤ë¥˜:', error);
                alert('ë“±ë¡ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        // ê²½ê¸° ëª©ë¡ ë¡œë“œ
        async function loadGames() {
            const games = await fetchAPI('/api/games');
            const container = document.getElementById('games-list');
            
            if (!games || games.length === 0) {
                container.innerHTML = '<p style="text-align: center; color: #666;">ë“±ë¡ëœ ê²½ê¸°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            
            let html = '';
            games.forEach(game => {
                // ë‚ ì§œ í¬ë§·íŒ…
                const date = new Date(game.date_time);
                const formattedDate = `${date.getFullYear()}ë…„ ${date.getMonth()+1}ì›” ${date.getDate()}ì¼`;
                const formattedTime = `${date.getHours()}:00 - ${date.getHours()+2}:00`;
                
                // ì°¸ê°€ì ìˆ˜ (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
                const participants = Math.floor(Math.random() * 5) + 2; // í…ŒìŠ¤íŠ¸ìš© ëœë¤ ìˆ«ì
                const maxParticipants = 8;
                
                // ê²Œì„ íƒœê·¸ (ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ ì ìš©)
                let tagClass = 'tag-blue';
                let tagText = 'ì´ˆë³´ì í™˜ì˜';
                
                if (game.id % 3 === 0) {
                    tagClass = 'tag-yellow';
                    tagText = 'ì¤‘ê¸‰ì';
                } else if (game.id % 3 === 1) {
                    tagClass = 'tag-green';
                    tagText = 'ëª¨ë“  ë ˆë²¨';
                }
                
                html += `
                    <div class="court-list-item" onclick="showGameDetail(${game.id})">
                        <div class="game-tag">
                            <span class="tag ${tagClass}">${tagText}</span>
                        </div>
                        <div class="court-name">${game.court ? game.court.name : 'ì•Œ ìˆ˜ ì—†ëŠ” ì¥ì†Œ'}</div>
                        <div class="game-date">
                            <span class="icon">ğŸ“…</span>
                            ${formattedDate}
                        </div>
                        <div class="game-time">
                            <span class="icon">ğŸ•’</span>
                            ${formattedTime}
                        </div>
                        <div class="game-participants">
                            <span class="icon">ğŸ‘¥</span>
                            ${participants}/${maxParticipants}ëª… ì°¸ê°€ ì¤‘
                        </div>
                    </div>
                `;
            });
            container.innerHTML = html;
        }
        
        // í˜„ì¬ ì„ íƒëœ ê²½ê¸° ID
        let currentGameId = null;
        
        // ê²½ê¸° ìƒì„¸ ì •ë³´ ë¡œë“œ
        async function loadGameDetail(gameId) {
            const game = await fetchAPI(`/api/games/${gameId}`);
            if (!game) {
                alert('ê²½ê¸° ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }
            
            currentGameId = gameId;
            
            const detailContainer = document.getElementById('game-detail-content');
            
            // ë‚ ì§œ í¬ë§·íŒ…
            const date = new Date(game.date_time);
            const formattedDate = `${date.getFullYear()}ë…„ ${date.getMonth()+1}ì›” ${date.getDate()}ì¼`;
            const formattedTime = `${date.getHours()}:00 - ${date.getHours()+2}:00`;
            
            // ì°¸ê°€ì ìˆ˜ (ì‹¤ì œë¡œëŠ” APIì—ì„œ ê°€ì ¸ì™€ì•¼ í•¨)
            const participants = Math.floor(Math.random() * 5) + 2; // í…ŒìŠ¤íŠ¸ìš© ëœë¤ ìˆ«ì
            const maxParticipants = 8;
            
            // ê²Œì„ íƒœê·¸ (ì¢…ë¥˜ì— ë”°ë¼ ë‹¤ë¥¸ ìŠ¤íƒ€ì¼ ì ìš©)
            let tagClass = 'tag-blue';
            let tagText = 'ì´ˆë³´ì í™˜ì˜';
            
            let html = `
                <div class="card">
                    <h2>${game.court ? game.court.name : 'ì•Œ ìˆ˜ ì—†ëŠ” ì¥ì†Œ'}</h2>
                    <div class="tag-list">
                        <span class="tag ${tagClass}">${tagText}</span>
                    </div>
                    
                    <div class="info-item">
                        <span class="icon">ğŸ“…</span>
                        <span>${formattedDate}</span>
                    </div>
                    <div class="info-item">
                        <span class="icon">ğŸ•’</span>
                        <span>${formattedTime}</span>
                    </div>
                    <div class="info-item">
                        <span class="icon">ğŸ“</span>
                        <span>${game.court ? game.court.address : 'ì£¼ì†Œ ì •ë³´ ì—†ìŒ'}</span>
                    </div>
                    <div class="info-item">
                        <span class="icon">ğŸ‘¥</span>
                        <span>ì°¸ê°€ì: ${participants}/${maxParticipants}ëª…</span>
                    </div>
                </div>
                
                <div class="card">
                    <h3>ì ‘ê·¼ì„± ì •ë³´</h3>
                    <div class="tag-list">
                        <span class="tag tag-green">íœ ì²´ì–´ ì ‘ê·¼ ì–‘í˜¸</span>
                        <span class="tag tag-green">ì¥ì• ì¸ í™”ì¥ì‹¤</span>
                        <span class="tag tag-green">ì¥ì• ì¸ ì£¼ì°¨êµ¬ì—­</span>
                    </div>
                </div>
                
                <div class="card">
                    <h3>ê²½ê¸° ì„¤ëª…</h3>
                    <p>${game.description || 'ê²½ê¸° ì„¤ëª…ì´ ì—†ìŠµë‹ˆë‹¤. ì£¼ìµœìì—ê²Œ ë¬¸ì˜í•˜ì„¸ìš”.'}</p>
                </div>
                
                <div class="card">
                    <h3>ì£¼ìµœì ì •ë³´</h3>
                    <div class="info-item">
                        <span class="icon">ğŸ‘¤</span>
                        <span>${game.host ? game.host.name : 'ì•Œ ìˆ˜ ì—†ìŒ'}</span>
                    </div>
                </div>
            `;
            
            detailContainer.innerHTML = html;
            
            // ì„¹ì…˜ í‘œì‹œ
            showSection('game-detail');
        }
        
        // ê²½ê¸° ìƒì„¸ ì •ë³´ í‘œì‹œ
        function showGameDetail(gameId) {
            loadGameDetail(gameId);
        }
        
        // ê²½ê¸° ì°¸ê°€ ì‹ ì²­
        function applyToGame() {
            if (!currentGameId) {
                alert('ê²½ê¸° ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                return;
            }
            
            // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œë¡œ ì°¸ê°€ ì‹ ì²­ ì²˜ë¦¬
            console.log(`ê²½ê¸° ID ${currentGameId}ì— ì°¸ê°€ ì‹ ì²­`);
            showSection('join-confirmation');
        }
        
        // ë¡œê·¸ì¸ ê´€ë ¨ í•¨ìˆ˜
        function showLogin() {
            document.getElementById('login-modal').style.display = 'block';
        }
        
        function closeLogin() {
            document.getElementById('login-modal').style.display = 'none';
        }
        
        function showSignup() {
            document.getElementById('login-modal').style.display = 'none';
            document.getElementById('signup-modal').style.display = 'block';
        }
        
        function closeSignup() {
            document.getElementById('signup-modal').style.display = 'none';
        }
        
        async function login() {
            const email = document.getElementById('login-email').value;
            const password = document.getElementById('login-password').value;
            
            if (!email || !password) {
                alert('ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            try {
                const result = await fetchAPI('/api/auth/login', 'POST', {
                    email,
                    password
                });
                
                if (result && !result.error) {
                    // ë¡œê·¸ì¸ ì„±ê³µ
                    currentUser = result;
                    
                    // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
                    sessionStorage.setItem('currentUser', JSON.stringify(currentUser));
                    
                    // UI ì—…ë°ì´íŠ¸
                    updateLoginState();
                    
                    // ë¡œê·¸ì¸ ëª¨ë‹¬ ë‹«ê¸°
                    closeLogin();
                    
                    // ë§ˆì´í˜ì´ì§€ ì •ë³´ ì—…ë°ì´íŠ¸
                    updateMyPageInfo();
                    
                    alert('ë¡œê·¸ì¸ ë˜ì—ˆìŠµë‹ˆë‹¤.');
                } else {
                    alert(result.error || 'ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('ë¡œê·¸ì¸ ì˜¤ë¥˜:', error);
                alert('ë¡œê·¸ì¸ ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        async function signup() {
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;
            
            if (!name || !email || !password) {
                alert('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            try {
                const result = await fetchAPI('/api/auth/signup', 'POST', {
                    name,
                    email,
                    password
                });
                
                if (result && !result.error) {
                    alert('íšŒì›ê°€ì…ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸í•´ì£¼ì„¸ìš”.');
                    closeSignup();
                    showLogin();
                } else {
                    alert(result.error || 'íšŒì›ê°€ì…ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                }
            } catch (error) {
                console.error('íšŒì›ê°€ì… ì˜¤ë¥˜:', error);
                alert('íšŒì›ê°€ì… ì²˜ë¦¬ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
            }
        }
        
        function logout() {
            currentUser = null;
            // ì„¸ì…˜ ìŠ¤í† ë¦¬ì§€ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì œê±°
            sessionStorage.removeItem('currentUser');
            updateLoginState();
            showSection('main-screen');
            alert('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤.');
        }
        
        function updateLoginState() {
            const loginButton = document.querySelector('.login-button');
            const mypageButton = document.querySelector('.mypage-button');
            
            if (currentUser) {
                // ë¡œê·¸ì¸ëœ ìƒíƒœ
                loginButton.style.display = 'none';
                mypageButton.style.display = 'block';
            } else {
                // ë¡œê·¸ì•„ì›ƒëœ ìƒíƒœ
                loginButton.style.display = 'block';
                mypageButton.style.display = 'none';
            }
        }
        
        function showMyPage() {
            if (currentUser) {
                updateMyPageInfo();
                showSection('mypage');
            } else {
                alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
                showLogin();
            }
        }
        
        function updateMyPageInfo() {
            if (currentUser) {
                document.getElementById('user-name').textContent = currentUser.name;
                document.getElementById('user-email').textContent = currentUser.email;
                
                // ì—¬ê¸°ì— ì‚¬ìš©ìì˜ íŒ€, ë“±ë¡ ê²½ê¸°, ì‹ ì²­ ê²½ê¸° ì •ë³´ë¥¼ ë¡œë“œí•˜ëŠ” ì½”ë“œ ì¶”ê°€
            }
        }
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ë¡œê·¸ì¸ ìƒíƒœ í™•ì¸ (í…ŒìŠ¤íŠ¸ìš© ìë™ ë¡œê·¸ì¸)
        window.addEventListener('DOMContentLoaded', function() {
            // ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ í™•ì¸
            const savedUserStr = sessionStorage.getItem('currentUser');
            if (savedUserStr) {
                try {
                    currentUser = JSON.parse(savedUserStr);
                    updateLoginState();
                    console.log('ë¡œê·¸ì¸ ìƒíƒœ ë³µì› ì™„ë£Œ:', currentUser.name);
                } catch (e) {
                    console.error('ì €ì¥ëœ ì‚¬ìš©ì ì •ë³´ ë³µì› ì‹¤íŒ¨:', e);
                    sessionStorage.removeItem('currentUser');
                }
            }
        });
    </script>
</body>
</html> 